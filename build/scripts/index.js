import*as r from"../_snowpack/env.js";console.log("%cD2 SYNERGY","font-weight: bold;font-size: 40px;color: white;"),console.log("// Welcome to D2Synergy, Please report any errors to @beru2003 on Twitter.");import a from"../_snowpack/pkg/axios.js";var i=console.log.bind(console),o=window.localStorage,c=r.CLIENT_ID;document.getElementById("navBarVersion").innerHTML=`${r.version}`;var l=e=>{let n=" ",s="abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789";for(let t=0;t<e;t++)n+=s.charAt(Math.floor(Math.random()*s.length));return n},d=async()=>{var e=JSON.parse(o.getItem("accessToken")),n=JSON.parse(o.getItem("refreshToken")),s=JSON.parse(o.getItem("components")),t=new URLSearchParams(window.location.search);(t.get("rsToken")||t.get("acToken")||t.get("comps"))&&o.clear(),e&&n&&s&&(i("-> Session Exists, Redirecting.."),window.location.href="user.html")};a.get("https://www.bungie.net/Platform/Destiny2/Manifest/DestinyInventoryItemDefinition/4289226715/",{headers:{"X-API-Key":r.API_KEY}}).catch(e=>{e.response&&(console.error(e.response),e.response.status===503&&(document.getElementById("serverDeadContainer").style.display="block"))}),d(),window.addEventListener("DOMContentLoaded",()=>{document.getElementById("btnAuthorize").addEventListener("click",()=>{var e=l(128);o.setItem("stateCode",e),window.location.href=`https://www.bungie.net/en/oauth/authorize?&client_id=${c}&response_type=code&state=${e}`})});
